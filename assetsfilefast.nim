import os, tables, strformat, base64, ospaths

var assets = initTable[string, string]()

proc getAsset*(path: string): string = 
  result = assets[path].decode()

assets.add("templatesdir/index.html",  """PCFkb2N0eXBlIGh0bWw+CjxoZWFkPgo8bWV0YSBjaGFyc2V0PSJ1dGYtOCI+Cjx0aXRsZT57JSBi
bG9jayB0aXRsZSAlfXslIGVuZGJsb2NrICV9PC90aXRsZT4KCgo8bGluayByZWw9InN0eWxlc2hl
ZXQiIGhyZWY9Imh0dHA6Ly9jZG4ud2ViaXguY29tL2VkZ2Uvd2ViaXguY3NzIiB0eXBlPSJ0ZXh0
L2NzcyI+IAoKPGxpbmsgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290
c3RyYXAvNC4wLjAvY3NzL2Jvb3RzdHJhcC5taW4uY3NzIiByZWw9InN0eWxlc2hlZXQiIGludGVn
cml0eT0ic2hhMzg0LUduNTM4NHhxUTFhb1dYQSswNThSWFB4UGc2Znk0SVd2VE5oMEUyNjNYbUZj
SmxTQXdpR2dGQVcvZEFpUzZKWG0iIGNyb3Nzb3JpZ2luPSJhbm9ueW1vdXMiPgo8c2NyaXB0IHNy
Yz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvNC4wLjAvanMvYm9v
dHN0cmFwLm1pbi5qcyIgaW50ZWdyaXR5PSJzaGEzODQtSlpSNlNwZWpoNFUwMmQ4ak90NnZMRUhm
ZS9KUUdpUlJTUVF4U2ZGV3BpMU1xdVZkQXlqVWFyNSs3NlBWQ21ZbCIgY3Jvc3NvcmlnaW49ImFu
b255bW91cyI+PC9zY3JpcHQ+CjxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQv
bnBtL2pxdWVyeS9kaXN0L2pxdWVyeS5taW4uanMiPjwvc2NyaXB0Pgo8c2NyaXB0IHR5cGU9InRl
eHQvamF2YXNjcmlwdCIgc3JjPSIvc3RhdGljL2pzL3dlYml4L3dlYml4L3dlYml4LmpzIj48L3Nj
cmlwdD4KPGxpbmsgaHJlZj0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ii9zdGF0aWMvanMvd2ViaXgv
d2ViaXgvd2ViaXguY3NzIj48L3NjcmlwdD4KPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLnJhd2dp
dC5jb20vYW1hcmsvZ3VuL21hc3Rlci9ndW4uanMiPjwvc2NyaXB0Pgo8c2NyaXB0PgogICAgICAg
ICAgICAgICAgdmFyIGd1biA9IEd1bignaHR0cHM6Ly9ndW5qcy5oZXJva3VhcHAuY29tL2d1bicp
OwogICAgICAgICAgICAgICAgdmFyIHNvY2sgPSBuZXcgV2ViU29ja2V0KCJ3czovL2xvY2FsaG9z
dDo4MDAwL2Rpc3BhdGNoIik7CiAgICAgICAgICAgICAgICBzb2NrLm9ub3BlbiA9IGZ1bmN0aW9u
KCl7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIk9wZW5lZCBhIGNvbm5lY3Rpb24u
LiIpOwogICAgICAgICAgICAgICAgfTsKCgo8L3NjcmlwdD4KCjwvaGVhZD4KPGJvZHk+CgogIDwh
LS0gV3JhcCBhbGwgcGFnZSBjb250ZW50IGhlcmUgLS0+CiAgPGRpdiBpZD0id3JhcCI+CgogICAg
PCEtLSBGaXhlZCBuYXZiYXIgLS0+CiAgICA8ZGl2IGNsYXNzPSJuYXZiYXIgbmF2YmFyLWRlZmF1
bHQgbmF2YmFyLWZpeGVkLXRvcCI+CiAgICAgIDxkaXYgY2xhc3M9ImNvbnRhaW5lciI+CiAgICAg
ICAgPGRpdiBjbGFzcz0ibmF2YmFyLWhlYWRlciI+CiAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1
dHRvbiIgY2xhc3M9Im5hdmJhci10b2dnbGUiIGRhdGEtdG9nZ2xlPSJjb2xsYXBzZSIgZGF0YS10
YXJnZXQ9Ii5uYXZiYXItY29sbGFwc2UiPgogICAgICAgICAgICA8c3BhbiBjbGFzcz0iaWNvbi1i
YXIiPjwvc3Bhbj4KICAgICAgICAgICAgPHNwYW4gY2xhc3M9Imljb24tYmFyIj48L3NwYW4+CiAg
ICAgICAgICAgIDxzcGFuIGNsYXNzPSJpY29uLWJhciI+PC9zcGFuPgogICAgICAgICAgPC9idXR0
b24+CiAgICAgICAgICA8YSBjbGFzcz0ibmF2YmFyLWJyYW5kIiBocmVmPSIvIj4wQ2hhdC1XZWJp
eDwvYT4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIEJl
Z2luIHBhZ2UgY29udGVudCAtLT4KICAgIDxtYWluIGlkPSJjb250ZW50IiByb2xlPSJtYWluIiBj
bGFzcz0iY29udGFpbmVyIj4KCiAgICAgIHslIGJsb2NrIGNvbnRlbnQgJX17JSBlbmRibG9jayAl
fQogICAgICAKICAgIDwvbWFpbj4KCiAgPC9kaXY+CgogIDxkaXYgaWQ9ImZvb3RlciI+CiAgICA8
ZGl2IGNsYXNzPSJjb250YWluZXIiPgogICAgICA8cD5Zb3VyIENvbXBhbnkgJmNvcHk7IEFsbCBS
aWdodHMgUmVzZXJ2ZWQuPC9wPgogICAgICB7JSBibG9jayBmb290ZXIgJX17JSBlbmRibG9jayAl
fQogICAgPC9kaXY+CiAgPC9kaXY+Cgo8L2JvZHk+CjwvaHRtbD4=""" )

assets.add("templatesdir/chatapp.html",  """eyUgZXh0ZW5kcyAiaW5kZXguaHRtbCIgJX0KCgp7JSBibG9jayBjb250ZW50ICV9CiAgICA8ZGl2
IGlkPSJjb250YWluZXIiPgogICAgICAgICAgICA8ZGl2IGlkPSJjaGF0Y29udGFpbmVyIj4KICAg
ICAgICAgICAgPC9kaXY+CgogICAgICAgIDxzY3JpcHQ+CiAgICAgICAgICAgICAgICB3ZWJpeC5y
ZWFkeShmdW5jdGlvbigpIHsKCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0b29sYmFyID0g
ewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93czogWwogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlldzog
InRvb2xiYXIiLCBoZWlnaHQ6IDEwMCwgZWxlbWVudHM6WwogICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAge3ZpZXc6ICJsYWJlbCIsIGxhYmVsOiAiPHNwYW4gc3R5bGU9J2Zv
bnQtc2l6ZTogMThweDsnPldlYml4IDAtQ2hhdDwvc3Bhbj4ifSwKICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAg
ICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAg
ICAgICAgICAgICAgICAgICAgICAgbGV0IHR4dG1zZyA9IHsKICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHZpZXc6ICJ0b29sYmFyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1l
bnRzOiBbCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgaWQ6J3R4dE1zZycsCiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHZpZXc6J3RleHQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBuYW1lOid0eHRNc2cnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICB2aWV3OididXR0b24nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBpZDonYnRuU2VuZE1zZycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHZhbHVlOidTZW5kJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTon
c3RhbmRhcmQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVu
Y3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUu
bG9nKCdidG5TZW5kIGlzIGNsaWNrZWQuJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBzZW5kQ2hhdE1zZygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAg
ICAgICAgICBsZXQgcm9vbXNQYW5lID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93
czpbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICB2aWV3OiAnbGlzdCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGxhYmVsQWxpZ246J3JpZ2h0JywKICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgaGVpZ2h0OjUwMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
d2lkdGg6IDIwMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdsaXN0
Q2hhdFJvb21zJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0OnRy
dWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHtpZDondHh0VXNlcm5hbWUnLCB2aWV3Oid0ZXh0JywgbmFtZTondHh0VXNl
cm5hbWUnfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAg
ICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxlZnRwYW5lID0gewogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgcm93czogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHsgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXc6ICJsaXN0Iiwg
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsQWxpZ246ICJyaWdodCIs
IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDUwMCwgCiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiA0MDAsCiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgaWQ6ICJsaXN0Q2hhdHMiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgfSwgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAg
ICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgLy9tYXliZSBpdCdzIGJldHRl
ciB0byBhbGxvdyBpdCBhcyBhIHBvcHVwCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByaWdo
dHBhbmUgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzOlsKICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICB7IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICB2aWV3OiAidGVtcGxhdGUiLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
dGVtcGxhdGU6ICJUZXh0IHRvIGJlIHNob3duIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgaWQ6ICJmb3Jtc1BhbmUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICB3aWR0aDo0MDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAg
ICAgICAgICAgICAgICAgICAgbGV0IGhib3ggPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBjb2xzOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdHBhbmUsCiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHRwYW5lCiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBdIAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAg
ICAgIGxldCB2Ym94ID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93czogWwogICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhib3gsCiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgdHh0bXNnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAg
ICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHdlYml4LnVpKHsKICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIGNvbHM6WwogICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHJvb21zUGFuZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2Ym94CiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBdICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAg
ICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIHdlYml4LlVJ
TWFuYWdlci5hZGRIb3RLZXkoIkVudGVyIiwgc2VuZENoYXRNc2csW10pOwogICAgICAgICAgICAg
ICAgICAgICAgICB3ZWJpeC5VSU1hbmFnZXIuc2V0Rm9jdXMoJCQoInR4dE1zZyIpKTsKCiAgICAg
ICAgICAgICAgICAgICAgICAgIGxldCByb29tc2xpc3RlbmRwb2ludCA9ICIvcm9vbXMiOwogICAg
ICAgICAgICAgICAgICAgICAgICAkLmFqYXgoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogIkdFVCIsCiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgdXJsOnJvb21zbGlzdGVuZHBvaW50LAogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpewogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiREFUQTogIiArIGRhdGEpOwogICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrIG9mIGRhdGEpewogICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkFERElORyBL
OiAiLCBrKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkKCJsaXN0
Q2hhdFJvb21zIikuYWRkKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBrLAogICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOmsKICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sMCk7CiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g
c2VsZWN0IHRoZSBmaXJzdG9uZSBieSBkZWZhdWx0LgogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAkJCgnbGlzdENoYXRSb29tcycpLnNlbGVjdChwYXJzZWRbMF0pOyAKCiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkKCdsaXN0Q2hhdFJvb21zJykucmVmcmVz
aCgpOyAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAg
ICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICBzb2NrLm9ubWVzc2FnZSA9IGZ1bmN0aW9u
KG0pewoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJz
ZShtLmRhdGEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbXNnID0gZGF0YVsn
bXNnX2JvZHknXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSAgZGF0
YVsndHlwZSddOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIlJFQ0VJ
VkVEIE1TRzogIiwgbXNnLCB0eXBlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGd1
bi5nZXQoJzBjaGF0Jykuc2V0KG1zZyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAo
dHlwZSA9PT0gImh0bWwiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCQoJ2Zv
cm1zUGFuZScpLnNldEhUTUwobXNnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNl
IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkJCgibGlzdENoYXRzIikuYWRkKAog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgdmFsdWU6IG1zZwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0s
IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAkJCgnbGlzdENoYXRzJykucmVmcmVzaCgpOwogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgJCQoJ2xpc3RD
aGF0Um9vbXMnKS5hdHRhY2hFdmVudCgnb25BZnRlclNlbGVjdCcsIChzZWxlY3RlZFJvb20pID0+
ewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJORVcgSUQ6ICIsIHNlbGVjdGVkUm9v
bSk7CiAgICAgICAgICAgICAgICAgICAgZmV0Y2goYC9yb29tLyR7c2VsZWN0ZWRSb29tfWApCiAg
ICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCAocmVzcCkgPT4gewogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgY29uc29sZS5sb2coIkRhdGE6IiwgcmVzcCk7CiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICByZXR1cm4gcmVzcC5qc29uKCkKICAgICAgICAgICAgICAgICAgICAgICAgfSku
dGhlbigganNvbkRhdGEgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNv
bGUubG9nKCIqKioqKipEQVRBOiAiLCBqc29uRGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgY29uc29sZS5sb2coIkNoYXRyb29tIGNoYW5nZWQgdG86ICIsIHNlbGVjdGVkUm9v
bSk7IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2ssIHZdIG9m
IE9iamVjdC5lbnRyaWVzKGpzb25EYXRhKSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGNvbnNvbGUubG9nKCJLOiAiLCBrLCAiIFY6ICIsIHYpOwogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAvLyB7bWlkfTp7cm9vbX06e3NlbmRlcl9pZH06e21zZ190eXBl
fTp7bXNnX2JvZHl9Onttc2dfdGltZX0iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGxldCB7bWlkLCByb29tLCBzZW5kZXJfaWQsIG1zZ190eXBlLCBtc2dfdGltZX0gPSBrLnNw
bGl0KCI6IikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2co
Ik8gaXMgOiAiLCBrLCB2KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQg
cGFyc2VkTXNnID0gSlNPTi5wYXJzZSh2KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgJCQoImxpc3RDaGF0cyIpLmFkZCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOmAk
e3NlbmRlcl9pZH0gc2FpZDogJHtwYXJzZWRNc2dbJ21zZ19ib2R5J119YAogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICB9LDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIH0gCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSAgICAKICAgICAgICAgICAgICAg
ICAgICAgICAgCiAgICAgICAgICAgICAgICB9KQoKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNl
bmRDaGF0TXNnKCkgewogICAgICAgICAgICAgICAgICAgIC8vIGxldCBzZW5kZXJfaWQgPSAkJCgn
dHh0VXNlcm5hbWUnKS5kYXRhLnZhbHVlOwogICAgICAgICAgICAgICAgICAgIGxldCBzZW5kZXJf
aWQgPSAkJCgndHh0VXNlcm5hbWUnKS5kYXRhLnZhbHVlOwogICAgICAgICAgICAgICAgICAgIGxl
dCBtc2dfYm9keSA9ICQkKCd0eHRNc2cnKS5kYXRhLnZhbHVlOwogICAgICAgICAgICAgICAgICAg
IGxldCByb29tbmFtZSA9ICQkKCdsaXN0Q2hhdFJvb21zJykuZ2V0U2VsZWN0ZWRJZCgpOwogICAg
ICAgICAgICAgICAgICAgIGxldCBtZXNzYWdlID0ge3NlbmRlcl9pZDpzZW5kZXJfaWQsIG1zZ19i
b2R5Om1zZ19ib2R5LCBtc2dfdHlwZToncGxhaW4nLCByb29tOnJvb21uYW1lfTsKICAgICAgICAg
ICAgICAgICAgICBzb2NrLnNlbmQoSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpOwogICAgICAgICAg
ICAgICAgICAgIC8vIGd1bi5nZXQoJzBjaGF0LXRtcCcpLnNldChtKTsKICAgICAgICAgICAgICAg
ICAgICBjb25zb2xlLmxvZygiSU4gU0VORENIQVQgTVNHOiAgIisgSlNPTi5zdHJpbmdpZnkobWVz
c2FnZSkpOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJET05FIFNFVCBJTiBndW4i
KTsKICAgICAgICAgICAgICAgICAgICAkKCcjdHh0TXNnJykudmFsKCIiKTsKICAgICAgICAgICAg
ICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyAkJCgibGlzdENoYXRzIikuYWRkKAogICAg
ICAgICAgICAgICAgICAgIC8vICAgICB7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB2
YWx1ZTogbQogICAgICAgICAgICAgICAgICAgIC8vICAgICB9LCAwCiAgICAgICAgICAgICAgICAg
ICAgLy8gKTsKICAgICAgICAgICAgICAgICAgICAvLyAkJCgnbGlzdENoYXRzJykucmVmcmVzaCgp
OwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAg
IAogICAgICAgICAgICAgICAgfSk7CgoKCgoKCgoKCgoKCiAgICAgICAgICAgICAgICAvLyByZWxv
YWQgYWxsCiAgICAgICAgICAgICAgICAvLyBndW4ubWFwKCkub24oZnVuY3Rpb24obXNnLCBpZCl7
CiAgICAgICAgICAgICAgICAvLyAgICAgJCQoImxpc3RDaGF0cyIpLmFkZCgKICAgICAgICAgICAg
ICAgIC8vICAgICAgICAgewogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgaWQ6IGlkLAog
ICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgdmFsdWU6bXNnCiAgICAgICAgICAgICAgICAv
LyAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vICAgICApCgkJCQkvLyB9KTsKCgogICAgICAg
ICAgICA8L3NjcmlwdD4KCjwvZGl2Pgp7JSBlbmRibG9jayAlfQ==""" )

